{"version":3,"file":"PNotifyConfirm.js","sources":["src/PNotifyConfirm.html"],"sourcesContent":["{{#if confirm || prompt}}\n  <div\n      class=\"ui-pnotify-action-bar {{_notice.get('_styles').text ? _notice.get('_styles').text : ''}}\"\n      style=\"margin-top: 5px; clear: both; text-align: {{align}};\">\n    {{#if prompt}}\n      {{#if prompt_multi_line}}\n        <textarea\n            rows=\"5\"\n            on:keypress=\"handleKeyPress(event)\"\n            ref:promptMulti\n            class=\"\n              {{_notice.get('_styles').input ? _notice.get('_styles').input : ''}}\n              {{prompt_class}}\n            \"\n            bind:value=\"prompt_value\"\n            style=\"margin-bottom: 5px; clear: both;\"></textarea>\n      {{else}}\n        <input\n            type=\"text\"\n            on:keypress=\"handleKeyPress(event)\"\n            ref:promptSingle\n            class=\"\n              {{_notice.get('_styles').input ? _notice.get('_styles').input : ''}}\n              {{prompt_class}}\n            \"\n            bind:value=\"prompt_value\"\n            style=\"margin-bottom: 5px; clear: both;\" />\n      {{/if}}\n    {{/if}}\n    {{#each buttons as button}}\n      <button\n          type=\"button\"\n          on:click=\"handleClick(button, event)\"\n          class=\"\n            ui-pnotify-action-button\n            {{_notice.get('_styles').btn ? _notice.get('_styles').btn : ''}}\n            {{button.addClass ? button.addClass : ''}}\n          \">{{#if button.trustText}}{{{button.text}}}{{else}}{{button.text}}{{/if}}</button>\n    {{/each}}\n  </div>\n{{/if}}\n\n<script>\n  import PNotify from \"./PNotify.html\";\n\n  export default {\n    setup (Component) {\n      Component.key = \"Confirm\";\n\n      Component.defaults = {\n        // Make a confirmation box.\n        confirm: false,\n        // Make a prompt.\n        prompt: false,\n        // Classes to add to the input element of the prompt.\n        prompt_class: \"\",\n        // The value of the prompt.\n        prompt_value: \"\",\n        // Whether the prompt should accept multiple lines of text.\n        prompt_multi_line: false,\n        // Where to align the buttons. (right, center, left, justify)\n        align: \"right\",\n        // The buttons to display, and their callbacks.\n        buttons: [\n          {\n            text: \"Ok\",\n            trustText: false,\n            addClass: \"\",\n            // Whether to trigger this button when the user hits enter in a single line prompt.\n            promptTrigger: true,\n            click: (notice, value) => {\n              notice.close();\n              notice.fire(\"pnotify.confirm\", {notice, value});\n            }\n          },\n          {\n            text: \"Cancel\",\n            trustText: false,\n            addClass: \"\",\n            click: (notice) => {\n              notice.close();\n              notice.fire(\"pnotify.cancel\", {notice});\n            }\n          }\n        ]\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Confirm = Component;\n      // Append this module to the container.\n      PNotify.modulesAppendContainer.push(Component);\n\n      // Add button icons to icons objects.\n      Object.assign(PNotify.styling.bootstrap3, {\n        btn: \"btn btn-default\",\n        input: \"form-control\"\n      });\n      Object.assign(PNotify.styling.bootstrap4, {\n        btn: \"btn btn-secondary ml-1\",\n        input: \"form-control\"\n      });\n    },\n\n    oncreate () {\n      this.fire(\"init\", {module: this});\n    },\n\n    data () {\n      return Object.assign({\n        \"_notice\": null, // The PNotify notice.\n        \"_options\": {}, // The options for the notice.\n      }, PNotify.modules.Confirm.defaults);\n    },\n\n    methods: {\n      initModule(options) {\n        this.set(options);\n      },\n\n      afterOpen() {\n        if (this.get(\"prompt\")) {\n          if (this.get(\"prompt_multi_line\")) {\n            this.refs.promptMulti.focus();\n          } else {\n            this.refs.promptSingle.focus();\n          }\n        }\n      },\n\n      handleClick(button, event) {\n        if (button.click) {\n          button.click(this.get(\"_notice\"), this.get(\"prompt\") ? this.get(\"prompt_value\") : null, event);\n        }\n      },\n\n      handleKeyPress(event) {\n        if (event.keyCode == 13 && !event.shiftKey) {\n          event.preventDefault();\n          const buttons = this.get(\"buttons\");\n          for (let i = 0; i < buttons.length; i++) {\n            if (buttons[i].promptTrigger && buttons[i].click) {\n              buttons[i].click(this.get(\"_notice\"), this.get(\"prompt\") ? this.get(\"prompt_value\") : null, event);\n            }\n          }\n        }\n      }\n    }\n  }\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UA2GS,OAAG,AACZ,AAAI;AAAE;AACE,AAAS,cAAE,AAAI,MACvB,AAAI;AAAI,AAAU,eAAE,AAAE,GACtB,AAAI,AAAG;AAHoB,AAC3B,AAAI,GADS,AAAM,AAAC,AAAM,EAGjB,AAAO,kBAAC,AAAO,QAAC,AAAO,QAAC,AAAQ,AAAC,AAAC,AAC3C,AAAI;AAAC;;;AAGC,AAAU,kCAAC,AAAO,SAAE,AAC1B,AAAI;AAAI,AAAI,QAAC,AAAG,IAAC,AAAO,AAAC,AAAC,AAC1B,AAAI;AAAG,AAEP,AAAI;AAAE,AAAS,kCAAG,AAClB,AAAI;AAAI,OAAI,AAAI,KAAC,AAAG,IAAC,AAAQ,AAAC,WAAE,AAChC,AAAI;AAAM,QAAI,AAAI,KAAC,AAAG,IAAC,AAAmB,AAAC,sBAAE,AAC7C,AAAI;AAAQ,AAAI,UAAC,AAAI,KAAC,AAAW,YAAC,AAAK,AAAE,AAAC,AAC1C,AAAI;AAAO,WAAM,AACjB,AAAI;AAAQ,AAAI,UAAC,AAAI,KAAC,AAAY,aAAC,AAAK,AAAE,AAAC,AAC3C,AAAI;AAAO,AACX,AAAI;AAAK,AACT,AAAI;AAAG,AAEP,AAAI;AAAE,AAAW,oCAAC,AAAM,QAAE,AAAK,OAAE,AACjC,AAAI;AAAI,OAAI,AAAM,OAAC,AAAK,OAAE,AAC1B,AAAI;AAAM,AAAM,WAAC,AAAK,MAAC,AAAI,KAAC,AAAG,IAAC,AAAS,AAAC,YAAE,AAAI,KAAC,AAAG,IAAC,AAAQ,AAAC,YAAG,AAAI,KAAC,AAAG,IAAC,AAAc,AAAC,kBAAG,AAAI,MAAE,AAAK,AAAC,AAAC,AACzG,AAAI;AAAK,AACT,AAAI;AAAG,AAEP,AAAI;AAAE,AAAc,0CAAC,AAAK,OAAE,AAC5B,AAAI;AAAI,OAAI,AAAK,MAAC,AAAO,WAAI,AAAE,MAAI,CAAC,AAAK,MAAC,AAAQ,UAAE,AACpD,AAAI;AAAM,AAAK,UAAC,AAAc,AAAE,AAAC,AACjC,AAAI;AAAM,QAAM,AAAO,UAAG,AAAI,KAAC,AAAG,IAAC,AAAS,AAAC,AAAC,AAC9C,AAAI;AAAM,SAAK,IAAI,AAAC,IAAG,AAAC,GAAE,AAAC,IAAG,AAAO,QAAC,AAAM,QAAE,AAAC,AAAE,KAAE,AACnD,AAAI;AAAQ,SAAI,AAAO,QAAC,AAAC,AAAC,GAAC,AAAa,iBAAI,AAAO,QAAC,AAAC,AAAC,GAAC,AAAK,OAAE,AAC9D,AAAI;AAAU,AAAO,cAAC,AAAC,AAAC,GAAC,AAAK,MAAC,AAAI,KAAC,AAAG,IAAC,AAAS,AAAC,YAAE,AAAI,KAAC,AAAG,IAAC,AAAQ,AAAC,YAAG,AAAI,KAAC,AAAG,IAAC,AAAc,AAAC,kBAAG,AAAI,MAAE,AAAK,AAAC,AAAC,AACjH,AAAI;AAAS,AACb,AAAI;AAAO,AACX,AAAI;AAAK,AACT,AAAI;AAAG,AACP,AAAI,AAAC;AAhCQ,AACb,AAAI;;UAZS,WAAG,AAChB,AAAI;AAAE,AAAI,OAAC,AAAI,KAAC,AAAM,QAAE,EAAC,AAAM,QAAE,AAAI,AAAC,AAAC,AAAC,AACxC,AAAI;AAAC;;UA3DK,MAAC,AAAS,WAAE,AACtB,AAAI;AAAE,AAAS,YAAC,AAAG,MAAG,AAAS,AAAC,AAEhC,AAAI;;AAAE,AAAS,YAAC,AAAQ;AAExB,AAAI;AAAI,AAAO,YAAE,AAAK,AACtB,AAAI;AACJ,AAAI;AAAI,AAAM,WAAE,AAAK,AACrB,AAAI;AACJ,AAAI;AAAI,AAAY,iBAAE,AAAE,AACxB,AAAI;AACJ,AAAI;AAAI,AAAY,iBAAE,AAAE,AACxB,AAAI;AACJ,AAAI;AAAI,AAAiB,sBAAE,AAAK,AAChC,AAAI;AACJ,AAAI;AAAI,AAAK,UAAE,AAAO,AACtB,AAAI;AACJ,AAAI;AAAI,AAAO;AAEH,AAAI,UAAE,AAAI,AACtB,AAAI;AAAQ,AAAS,eAAE,AAAK,AAC5B,AAAI;AAAQ,AAAQ,cAAE,AAAE,AACxB,AAAI;AACJ,AAAI;AAAQ,AAAa,mBAAE,AAAI,AAC/B,AAAI;AAAQ,AAAK,WAAE,eAAC,AAAM,QAAE,AAAK,OAAK,AACtC,AAAI;AAAU,AAAM,YAAC,AAAK,AAAE,AAAC,AAC7B,AAAI;AAAU,AAAM,YAAC,AAAI,KAAC,AAAiB,mBAAE,EAAC,AAAM,gBAAE,AAAK,AAAC,AAAC,AAAC,AAC9D,AAAI;AAAS,AACb,AAAI,AAAO,AACX,AAAI;AAXM,AACV,AAAI,IAFa,AACjB,AAAI;AAYQ,AAAI,UAAE,AAAQ,AAC1B,AAAI;AAAQ,AAAS,eAAE,AAAK,AAC5B,AAAI;AAAQ,AAAQ,cAAE,AAAE,AACxB,AAAI;AAAQ,AAAK,WAAE,eAAC,AAAM,QAAK,AAC/B,AAAI;AAAU,AAAM,YAAC,AAAK,AAAE,AAAC,AAC7B,AAAI;AAAU,AAAM,YAAC,AAAI,KAAC,AAAgB,kBAAE,EAAC,AAAM,AAAC,AAAC,AAAC,AACtD,AAAI;AAAS,AACb,AAAI,AAAO,AACX,AAAI,AAAK,AACT,AAAI,AAAG,AAAC,AAER,AAAI;AAZM,AACV,AAAI;AA3BuB,AAC3B,AAAI;;AAsCJ,AAAI;AAAE,AAAO,oBAAC,AAAO,QAAC,AAAO,UAAG,AAAS,AAAC,AAC1C,AAAI;AACJ,AAAI;AAAE,AAAO,oBAAC,AAAsB,uBAAC,AAAI,KAAC,AAAS,AAAC,AAAC,AAErD,AAAI;;AACJ,AAAI;AAAE,AAAM,AAAC,AAAM,WAAC,AAAO,kBAAC,AAAO,QAAC,AAAU;AACtC,AAAG,QAAE,AAAiB,AAC9B,AAAI;AAAI,AAAK,UAAE,AAAc,AAC7B,AAAI,AAAG,AAAC,AAAC,AACT,AAAI;AAJ4C,AAChD,AAAI;AAGE,AAAM,AAAC,AAAM,WAAC,AAAO,kBAAC,AAAO,QAAC,AAAU;AACtC,AAAG,QAAE,AAAwB,AACrC,AAAI;AAAI,AAAK,UAAE,AAAc,AAC7B,AAAI,AAAG,AAAC,AAAC,AACT,AAAI;AAJ4C,AAChD,AAAI;AAGC;;;;;wBArGC,AAAO,iBAAI,AAAM;;;;;;;;;;;;;;cAAjB,AAAO,iBAAI,AAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aAQE,AAAc,eAAC,AAAK,AAAC;;;;;;;;;;;;4EAG9B,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAK,cAAG,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAK,QAAG,AAAE,iCAChE,AAAY;;;;;;;;;;2BAEJ,AAAY;;;;mDAAZ,AAAY;kIAHpB,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAK,cAAG,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAK,QAAG,AAAE,iCAChE,AAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aAOH,AAAc,eAAC,AAAK,AAAC;;;;;;;;;;;;sEAG9B,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAK,cAAG,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAK,QAAG,AAAE,iCAChE,AAAY;;;;;;;;;;wBAEJ,AAAY;;;;6CAAZ,AAAY;4HAHpB,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAK,cAAG,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAK,QAAG,AAAE,iCAChE,AAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gHAYd,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAG,YAAG,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAG,MAAG,AAAE,0BAC5D,AAAM,OAAC,AAAQ,WAAG,AAAM,OAAC,AAAQ,WAAG,AAAE;;;;;;;;;;;;;;;;;;;;;;;;;;iKADtC,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAG,YAAG,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAG,MAAG,AAAE,0BAC5D,AAAM,OAAC,AAAQ,WAAG,AAAM,OAAC,AAAQ,WAAG,AAAE;;;;;;;;;;;;;;;;;;;;;;kBACb,AAAM,OAAC,AAAI;;;;;;;;;;;;;;;;;sDAAX,AAAM,OAAC,AAAI;;;;;;;;;;;;;;;;;;;mBAAa,AAAM,OAAC,AAAI;;;;;;;;;;;;;wDAAX,AAAM,OAAC,AAAI;;;;;;;;;;;;;;;;;uBAjChE,AAAM;;sBAyBJ,AAAO;;;;8BAAZ;;;;;;;;;;;;;;;;;wEA3B8B,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAI,aAAG,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAI,OAAG,AAAE;;;sCAC1C,AAAK;;;;;;;;;;;;;;cACpD,AAAM;;;;;;;;;;;;;;wBAyBJ,AAAO;;;iCAAZ;;;;;;;;;;;;;;kCAAA;;;oGA3B8B,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAI,aAAG,AAAO,QAAC,AAAG,IAAC,AAAS,AAAC,WAAC,AAAI,OAAG,AAAE;;;;;uCAC1C,AAAK;;;;;;;;;;;;;;;;;;;;;;YAElD,AAAiB;;;;;MAgCX,AAAM,OAAC,AAAS;;;;;;;;;YALd,AAAW,YAAC,AAAM,QAAE,AAAK,AAAC"}