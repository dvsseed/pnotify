{"version":3,"file":"PNotifyCallbacks.js","sources":["src/PNotifyCallbacks.html"],"sourcesContent":["<script>\n  import PNotify from \"./PNotify.html\";\n\n  let _open   = PNotify.prototype.open,\n      _close = PNotify.prototype.close;\n\n  const callbacks = (notice, options, name) => {\n    let modules = notice ? notice.get('modules') : options.modules;\n    let cbs = (modules && modules.Callbacks) ? modules.Callbacks : {};\n    return cbs[name] ? cbs[name] : () => true;\n  };\n\n  PNotify.prototype.open = function(...args) {\n    let ret = callbacks(this, null, 'before_open')(this);\n    if (ret !== false) {\n      _open.apply(this, args);\n      callbacks(this, null, 'after_open')(this);\n    }\n  };\n\n  PNotify.prototype.close = function(timer_hide, ...args) {\n    let ret = callbacks(this, null, 'before_close')(this, timer_hide);\n    if (ret !== false) {\n      _close.apply(this, [timer_hide, ...args]);\n      callbacks(this, null, 'after_close')(this, timer_hide);\n    }\n  };\n\n  export default {\n    setup: (Component) => {\n      let _alert   = PNotify.alert,\n          _notice  = PNotify.notice,\n          _info    = PNotify.info,\n          _success = PNotify.success,\n          _error   = PNotify.error;\n\n      let init = (original, options) => {\n        callbacks(null, options, 'before_init')(options);\n        let notice = original(options);\n        callbacks(notice, null, 'after_init')(notice);\n        return notice;\n      };\n\n      PNotify.alert = (options) => {\n        return init(_alert, options);\n      };\n      PNotify.notice = (options) => {\n        return init(_notice, options);\n      };\n      PNotify.info = (options) => {\n        return init(_info, options);\n      };\n      PNotify.success = (options) => {\n        return init(_success, options);\n      };\n      PNotify.error = (options) => {\n        return init(_error, options);\n      };\n    }\n  }\n</script>\n"],"names":[],"mappings":"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"}