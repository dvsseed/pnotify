{"version":3,"file":"PNotifyButtons.js","sources":["src/PNotifyButtons.html"],"sourcesContent":["{{#if _show_closer}}\n  <div\n      class=\"ui-pnotify-closer {{(!closer_hover || _mouseIsIn) ? '' : 'ui-pnotify-hidden'}}\"\n      role=\"button\"\n      tabindex=\"0\"\n      title=\"{{labels.closer}}\"\n      on:click=\"handleCloserClick()\">\n    <span class=\"{{_closer_class}}\"></span>\n  </div>\n{{/if}}\n{{#if _show_sticker}}\n  <div\n      class=\"ui-pnotify-sticker {{(!sticker_hover || _mouseIsIn) ? '' : 'ui-pnotify-hidden'}}\"\n      role=\"button\"\n      aria-pressed=\"{{_options.hide}}\"\n      tabindex=\"0\"\n      title=\"{{_options.hide ? labels.stick : labels.unstick}}\"\n      on:click=\"handleStickerClick()\">\n    <span class=\"{{_options.hide ? _pin_up_class : _pin_down_class}}\"></span>\n  </div>\n{{/if}}\n\n<script>\n  import PNotify from \"./PNotify.html\";\n\n  export default {\n    setup (Component) {\n      Component.key = \"Buttons\";\n\n      Component.defaults = {\n        // Provide a button for the user to manually close the notice.\n        closer: true,\n        // Only show the closer button on hover.\n        closer_hover: true,\n        // Provide a button for the user to manually stick the notice.\n        sticker: true,\n        // Only show the sticker button on hover.\n        sticker_hover: true,\n        // Show the buttons even when the nonblock module is in use.\n        show_on_nonblock: false,\n        // The various displayed text, helps facilitating internationalization.\n        labels: {\n          close: \"Close\",\n          stick: \"Stick\",\n          unstick: \"Unstick\"\n        },\n        // The classes to use for button icons. Leave them null to use the classes from the styling you're using.\n        classes: {\n          closer: null,\n          pin_up: null,\n          pin_down: null\n        }\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Buttons = Component;\n      // Prepend this module to the container.\n      PNotify.modulesPrependContainer.push(Component);\n\n      // Add button icons to icons objects.\n      Object.assign(PNotify.icons.brighttheme, {\n        closer: \"brighttheme-icon-closer\",\n        pin_up: \"brighttheme-icon-sticker\",\n        pin_down: \"brighttheme-icon-sticker brighttheme-icon-stuck\"\n      });\n      Object.assign(PNotify.icons.bootstrap3, {\n        closer: \"glyphicon glyphicon-remove\",\n        pin_up: \"glyphicon glyphicon-pause\",\n        pin_down: \"glyphicon glyphicon-play\"\n      });\n      Object.assign(PNotify.icons.fontawesome4, {\n        closer: \"fa fa-times\",\n        pin_up: \"fa fa-pause\",\n        pin_down: \"fa fa-play\"\n      });\n      Object.assign(PNotify.icons.fontawesome5, {\n        closer: \"fas fa-times\",\n        pin_up: \"fas fa-pause\",\n        pin_down: \"fas fa-play\"\n      });\n    },\n\n    oncreate () {\n      this.on(\"initModule\", (options) => {\n        this.set(options);\n        this.get(\"_notice\").on(\"mouseenter\", () => this.set({\"_mouseIsIn\": true}));\n        this.get(\"_notice\").on(\"mouseleave\", () => this.set({\"_mouseIsIn\": false}));\n        this.get(\"_notice\").observe(\"hide\", (hide) => {\n          const sticker = this.get(\"sticker\");\n\n          if (!sticker) {\n            return;\n          }\n\n          // Font Awesome 5 replaces our lovely element with a gross SVG. In order\n          // to make it play nice with Svelte, we have to clear the element and\n          // make it again.\n          const icon = hide ? this.get(\"classes\").pin_up : this.get(\"classes\").pin_down;\n          if (\n              (this.get(\"_notice\").get(\"icons\") === \"fontawesome5\")\n              || (typeof icon === \"string\" && icon.match(/(^| )fa[srlb]($| )/))\n            ) {\n            this.set({\"sticker\": false});\n            this.set({\"sticker\": true});\n          }\n        });\n      });\n      this.fire(\"init\", {module: this});\n    },\n\n    data () {\n      return Object.assign({\n        \"_notice\": null, // The PNotify notice.\n        \"_options\": {}, // The options for the notice.\n        \"_mouseIsIn\": false,\n      }, PNotify.modules.Buttons.defaults);\n    },\n\n    computed: {\n      // Whether to show the sticker icon.\n      _show_sticker: (sticker, show_on_nonblock, _options) => sticker && (!(_options.modules && _options.modules.NonBlock && _options.modules.NonBlock.nonblock) || show_on_nonblock),\n      // Whether to show the closer icon.\n      _show_closer: (closer, show_on_nonblock, _options) => closer && (!(_options.modules && _options.modules.NonBlock && _options.modules.NonBlock.nonblock) || show_on_nonblock),\n      // These are button icon classes.\n      _pin_up_class: (classes, _notice) => _notice ? (classes.pin_up === null ? _notice.get(\"_icons\").pin_up : classes.pin_up) : '',\n      _pin_down_class: (classes, _notice) => _notice ? (classes.pin_down === null ? _notice.get(\"_icons\").pin_down : classes.pin_down) : '',\n      _closer_class: (classes, _notice) => _notice ? (classes.closer === null ? _notice.get(\"_icons\").closer : classes.closer) : '',\n    },\n\n    methods: {\n      handleStickerClick() {\n        const _notice = this.get(\"_notice\");\n        _notice.update({hide: !_notice.get(\"hide\")});\n      },\n\n      handleCloserClick() {\n        this.get(\"_notice\").remove(false);\n        this.set({\"_mouseIsIn\": false});\n      }\n    }\n  }\n</script>\n\n<style>\n  .ui-pnotify-closer, .ui-pnotify-sticker {\n    float: right;\n    margin-left: .5em;\n    cursor: pointer;\n  }\n  .ui-pnotify-hidden {\n    visibility: hidden;\n  }\n</style>\n"],"names":[],"mappings":"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"}