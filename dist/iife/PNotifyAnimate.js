"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},PNotifyAnimate=function(t){t=t&&t.__esModule?t.default:t;var e;function n(e){var n,o;o=e,(n=this)._observers={pre:r(),post:r()},n._handlers=r(),n._bind=o._bind,n.options=o,n.root=o.root||n,n.store=n.root.store||o.store,this._state=a(_extends({_notice:null,_options:{}},t.modules.Animate.defaults),e.data);var m=function(){var t=this;this.on("initModule",function(e){t.set(e),t.setUpAnimations()})}.bind(this);e.root?this.root._oncreate.push(m):this._oncreate=[m],this._fragment=(this._state,{c:i,m:i,p:i,u:i,d:i}),e.target&&(this._fragment.c(),this._fragment.m(e.target,e.anchor||null),s(this._oncreate))}function i(){}function a(t){for(var e,n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(e in n)t[e]=n[e]}return t}function s(t){for(;t&&t.length;)t.pop()()}function o(t){this.destroy=i,this.fire("destroy"),this.set=this.get=i,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function r(){return Object.create(null)}function m(t,e,n,i,a){for(var s in e)if(n[s]){var o=i[s],r=a[s],m=e[s];if(m)for(var f=0;f<m.length;f+=1){var d=m[f];d.__calling||(d.__calling=!0,d.call(t,o,r),d.__calling=!1)}}}return a(n.prototype,{update:function(){this.setUpAnimations()},setUpAnimations:function(){var t=this.get("_notice"),e=this.get("_options");if(this.get("animate")){t.set({animation:"none"}),t._animateIn||(t._animateIn=t.animateIn),t._animateOut||(t._animateOut=t.animateOut),t.animateIn=this.animateIn.bind(this),t.animateOut=this.animateOut.bind(this);var n=400;"slow"===e.animate_speed?n=600:"fast"===e.animate_speed?n=200:e.animate_speed>0&&(n=e.animate_speed),n/=1e3,t.refs.elem.style.WebkitAnimationDuration=n+"s",t.refs.elem.style.MozAnimationDuration=n+"s",t.refs.elem.style.animationDuration=n+"s"}else t._animateIn&&t._animateOut&&(t.animateIn=t._animateIn,delete t._animateIn,t.animateOut=t._animateOut,delete t._animateOut)},animateIn:function(t){var e=this.get("_notice");this.get("_options"),e.set({_animating:"in"});var n=function n(){e.refs.elem.removeEventListener("webkitAnimationEnd",n),e.refs.elem.removeEventListener("mozAnimationEnd",n),e.refs.elem.removeEventListener("MSAnimationEnd",n),e.refs.elem.removeEventListener("oanimationend",n),e.refs.elem.removeEventListener("animationend",n),e.set({_animatingClass:"ui-pnotify-in animated"}),t&&t.call(),e.set({_animating:!1})};e.refs.elem.addEventListener("webkitAnimationEnd",n),e.refs.elem.addEventListener("mozAnimationEnd",n),e.refs.elem.addEventListener("MSAnimationEnd",n),e.refs.elem.addEventListener("oanimationend",n),e.refs.elem.addEventListener("animationend",n),e.set({_animatingClass:"ui-pnotify-in animated "+this.get("in_class")})},animateOut:function(t){var e=this.get("_notice");this.get("_options"),e.set({_animating:"out"});var n=function n(){e.refs.elem.removeEventListener("webkitAnimationEnd",n),e.refs.elem.removeEventListener("mozAnimationEnd",n),e.refs.elem.removeEventListener("MSAnimationEnd",n),e.refs.elem.removeEventListener("oanimationend",n),e.refs.elem.removeEventListener("animationend",n),e.set({_animatingClass:"animated"}),t&&t.call(),e.set({_animating:!1})};e.refs.elem.addEventListener("webkitAnimationEnd",n),e.refs.elem.addEventListener("mozAnimationEnd",n),e.refs.elem.addEventListener("MSAnimationEnd",n),e.refs.elem.addEventListener("oanimationend",n),e.refs.elem.addEventListener("animationend",n),e.set({_animatingClass:"ui-pnotify-in animated "+this.get("out_class")})}},{destroy:o,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(!n)return;for(var i=0;i<n.length;i+=1)n[i].call(this,e)},observe:function(t,e,n){var i=n&&n.defer?this._observers.post:this._observers.pre;(i[t]||(i[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1);return{cancel:function(){var n=i[t].indexOf(e);~n&&i[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){if(this._set(a({},t)),this.root._lock)return;this.root._lock=!0,s(this.root._beforecreate),s(this.root._oncreate),s(this.root._aftercreate),this.root._lock=!1},teardown:o,_set:function(t){var e=this._state,n={},i=!1;for(var s in t)o=t[s],r=e[s],(o!==r||o&&"object"===(void 0===o?"undefined":_typeof(o))||"function"==typeof o)&&(n[s]=i=!0);var o,r;if(!i)return;this._state=a({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state);this._fragment&&(m(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),m(this,this._observers.post,n,this._state,e))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()}}),n.prototype._recompute=i,(e=n).key="Animate",e.defaults={animate:!1,in_class:"",out_class:""},e.init=function(t){return t.attention=function(e,n){var i=function i(){t.refs.container.removeEventListener("webkitAnimationEnd",i),t.refs.container.removeEventListener("mozAnimationEnd",i),t.refs.container.removeEventListener("MSAnimationEnd",i),t.refs.container.removeEventListener("oanimationend",i),t.refs.container.removeEventListener("animationend",i),t.refs.container.classList.remove(e),n&&n.call(t)};t.refs.container.addEventListener("webkitAnimationEnd",i),t.refs.container.addEventListener("mozAnimationEnd",i),t.refs.container.addEventListener("MSAnimationEnd",i),t.refs.container.addEventListener("oanimationend",i),t.refs.container.addEventListener("animationend",i),t.refs.container.classList.add("animated"),t.refs.container.classList.add(e)},new e({target:document.body})},t.modules.Animate=e,n}(PNotify);
//# sourceMappingURL=PNotifyAnimate.js.map