!function(t,e){if("function"==typeof define&&define.amd)define("PNotifyNonBlock",["exports","./PNotify.html"],e);else if("undefined"!=typeof exports)e(exports,require("./PNotify.html"));else{var o={};e(o,t.PNotify),t.PNotifyNonBlock=o}}(this,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=e)&&o.__esModule?o:{default:o};var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},c=/^on/,a=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,l=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,u=/^(scroll|resize|(un)?load|abort|error)$/,f=function(t,e,o){var n=void 0;if(e=e.toLowerCase(),document.createEvent&&t.dispatchEvent){if((e=e.replace(c,"")).match(a)?(t.getBoundingClientRect(),(n=document.createEvent("MouseEvents")).initMouseEvent(e,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget)):e.match(l)?(n=document.createEvent("UIEvents")).initUIEvent(e,o.bubbles,o.cancelable,o.view,o.detail):e.match(u)&&(n=document.createEvent("HTMLEvents")).initEvent(e,o.bubbles,o.cancelable),!n)return;t.dispatchEvent(n)}else e.match(c)||(e="on"+e),n=document.createEventObject(o),t.fireEvent(e,n)},d=void 0;function h(){var t=this,e=[],o=function(t,o,n){var i=document.elementFromPoint(o.clientX,o.clientY);t.refs.elem.classList.add("ui-pnotify-nonblock-hide");var r=document.elementFromPoint(o.clientX,o.clientY);t.refs.elem.classList.remove("ui-pnotify-nonblock-hide");var s=window.getComputedStyle(r).cursor;!function(t){for(var o in e)if(e[o].elem===t)return;e.push({elem:t,cursorStyleValue:t.style.getPropertyValue("cursor"),cursorStylePriority:t.style.getPropertyPriority("cursor")})}(i),i.style.setProperty("cursor","auto"===s?"default":s,"important"),d&&d==r||(d&&(f(d,"mouseleave",o),f(d,"mouseout",o)),f(r,"mouseenter",o),f(r,"mouseover",o)),f(r,n,o),d=r};this.on("initModule",function(n){t.set(n);var i=t.get("_notice");i.on("mouseenter",function(e){t.get("nonblock")&&(e.stopPropagation(),i.addModuleClass("ui-pnotify-nonblock-fade"))}),i.on("mouseleave",function(o){t.get("nonblock")&&o.stopPropagation(),d=null,function(){for(var t in e)e[t].elem.style.setProperty("cursor",e[t].cursorStyleValue,e[t].cursorStylePriority);e.length=0}(),t.get("nonblock")&&i.removeModuleClass("ui-pnotify-nonblock-fade")}),i.on("mouseover",function(e){t.get("nonblock")&&e.stopPropagation()}),i.on("mouseout",function(e){t.get("nonblock")&&e.stopPropagation()}),i.on("mousemove",function(e){t.get("nonblock")&&(e.stopPropagation(),o(i,e,"onmousemove"))}),i.on("mousedown",function(e){t.get("nonblock")&&(e.stopPropagation(),e.preventDefault(),o(i,e,"onmousedown"))}),i.on("mouseup",function(e){t.get("nonblock")&&(e.stopPropagation(),e.preventDefault(),o(i,e,"onmouseup"))}),i.on("click",function(e){t.get("nonblock")&&(e.stopPropagation(),o(i,e,"onclick"))}),i.on("dblclick",function(e){t.get("nonblock")&&(e.stopPropagation(),o(i,e,"ondblclick"))})})}function p(){var t,e,o=(t="style",document.createElement(t));o.id="svelte-2150265124-style",o.textContent="[ui-pnotify].ui-pnotify.ui-pnotify-nonblock-fade{opacity:.2 !important}[ui-pnotify].ui-pnotify.ui-pnotify-nonblock-hide{display:none !important}",e=o,document.head.appendChild(e)}function m(t){var e,o;o=t,(e=this)._observers={pre:g(),post:g()},e._handlers=g(),e._bind=o._bind,e.options=o,e.root=o.root||e,e.store=e.root.store||o.store,this._state=_(s({_notice:null,_options:{}},n.default.modules.NonBlock.defaults),t.data),document.getElementById("svelte-2150265124-style")||p();var i=h.bind(this);t.root?this.root._oncreate.push(i):this._oncreate=[i],this._fragment=(this._state,{c:v,m:v,p:v,u:v,d:v}),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),y(this._oncreate))}function v(){}function _(t){for(var e,o,n=1,i=arguments.length;n<i;n++){o=arguments[n];for(e in o)t[e]=o[e]}return t}function y(t){for(;t&&t.length;)t.pop()()}function b(t){this.destroy=v,this.fire("destroy"),this.set=this.get=v,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function g(){return Object.create(null)}function k(t,e,o,n,i){for(var r in e)if(o[r]){var s=n[r],c=i[r],a=e[r];if(a)for(var l=0;l<a.length;l+=1){var u=a[l];u.__calling||(u.__calling=!0,u.call(t,s,c),u.__calling=!1)}}}_(m.prototype,{destroy:b,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var o=t in this._handlers&&this._handlers[t].slice();if(!o)return;for(var n=0;n<o.length;n+=1)o[n].call(this,e)},observe:function(t,e,o){var n=o&&o.defer?this._observers.post:this._observers.pre;(n[t]||(n[t]=[])).push(e),o&&!1===o.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1);return{cancel:function(){var o=n[t].indexOf(e);~o&&n[t].splice(o,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var o=this._handlers[t]||(this._handlers[t]=[]);return o.push(e),{cancel:function(){var t=o.indexOf(e);~t&&o.splice(t,1)}}},set:function(t){if(this._set(_({},t)),this.root._lock)return;this.root._lock=!0,y(this.root._beforecreate),y(this.root._oncreate),y(this.root._aftercreate),this.root._lock=!1},teardown:b,_set:function(t){var e=this._state,o={},n=!1;for(var i in t)s=t[i],c=e[i],(s!==c||s&&"object"===(void 0===s?"undefined":r(s))||"function"==typeof s)&&(o[i]=n=!0);var s,c;if(!n)return;this._state=_({},e,t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state);this._fragment&&(k(this,this._observers.pre,o,this._state,e),this._fragment.p(o,this._state),k(this,this._observers.post,o,this._state,e))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()}}),m.prototype._recompute=v,(i=m).key="NonBlock",i.defaults={nonblock:!1},i.init=function(t){return new i({target:document.body})},n.default.modules.NonBlock=i,t.default=m});
//# sourceMappingURL=PNotifyNonBlock.js.map