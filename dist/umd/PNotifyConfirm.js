!function(t,n){if("function"==typeof define&&define.amd)define("PNotifyConfirm",["exports","./PNotify.html"],n);else if("undefined"!=typeof exports)n(exports,require("./PNotify.html"));else{var e={};n(e,t.PNotify),t.PNotifyConfirm=e}}(this,function(t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e,o=(e=n)&&e.__esModule?e:{default:e};var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};var s;function u(t,n){var e,o,i=!1;function r(){i=!0,n.set({prompt_value:e.value}),i=!1}function s(t){n.handleKeyPress(t)}return{c:function(){e=x("textarea"),this.h()},h:function(){k(e,"input",r),e.rows="5",e.className=o="\n              "+(t._notice.get("_styles").input?t._notice.get("_styles").input:"")+"\n              "+t.prompt_class+"\n            ",C(e,"margin-bottom","5px"),C(e,"clear","both"),k(e,"keypress",s)},m:function(o,i){y(e,o,i),n.refs.promptMulti=e,e.value=t.prompt_value},p:function(t,n){i||(e.value=n.prompt_value),(t._notice||t.prompt_class)&&o!==(o="\n              "+(n._notice.get("_styles").input?n._notice.get("_styles").input:"")+"\n              "+n.prompt_class+"\n            ")&&(e.className=o)},u:function(){b(e)},d:function(){N(e,"input",r),N(e,"keypress",s),n.refs.promptMulti===e&&(n.refs.promptMulti=null)}}}function c(t,n){var e,o,i=!1;function r(){i=!0,n.set({prompt_value:e.value}),i=!1}function s(t){n.handleKeyPress(t)}return{c:function(){e=x("input"),this.h()},h:function(){k(e,"input",r),e.type="text",e.className=o="\n              "+(t._notice.get("_styles").input?t._notice.get("_styles").input:"")+"\n              "+t.prompt_class+"\n            ",C(e,"margin-bottom","5px"),C(e,"clear","both"),k(e,"keypress",s)},m:function(o,i){y(e,o,i),n.refs.promptSingle=e,e.value=t.prompt_value},p:function(t,n){i||(e.value=n.prompt_value),(t._notice||t.prompt_class)&&o!==(o="\n              "+(n._notice.get("_styles").input?n._notice.get("_styles").input:"")+"\n              "+n.prompt_class+"\n            ")&&(e.className=o)},u:function(){b(e)},d:function(){N(e,"input",r),N(e,"keypress",s),n.refs.promptSingle===e&&(n.refs.promptSingle=null)}}}function l(t,n){var e,o=h(t),i=o(t,n);return{c:function(){i.c(),e=v()},m:function(t,n){i.m(t,n),y(e,t,n)},p:function(t,r){o===(o=h(r))&&i?i.p(t,r):(i.u(),i.d(),(i=o(r,n)).c(),i.m(e.parentNode,e))},u:function(){i.u(),b(e)},d:function(){i.d()}}}function f(t,n,e,o,i){var r,s,u=m(t,n,e,o),c=u(t,n,e,o,i);return{c:function(){r=x("button"),c.c(),this.h()},h:function(){r.type="button",r.className=s="\n            ui-pnotify-action-button\n            "+(t._notice.get("_styles").btn?t._notice.get("_styles").btn:"")+"\n            "+(e.addClass?e.addClass:"")+"\n          ",k(r,"click",d),r._svelte={component:i,buttons:n,button_index:o}},m:function(t,n){y(r,t,n),c.m(r,null)},p:function(t,n,e,o,l){u===(u=m(n,e,o,l))&&c?c.p(t,n,e,o,l):(c.u(),c.d(),(c=u(n,e,o,l,i)).c(),c.m(r,null)),(t._notice||t.buttons)&&s!==(s="\n            ui-pnotify-action-button\n            "+(n._notice.get("_styles").btn?n._notice.get("_styles").btn:"")+"\n            "+(o.addClass?o.addClass:"")+"\n          ")&&(r.className=s),r._svelte.buttons=e,r._svelte.button_index=l},u:function(){b(r),c.u()},d:function(){c.d(),N(r,"click",d)}}}function a(t,n,e,o,i){var r,s,u=e.text;return{c:function(){r=x("noscript"),s=x("noscript")},m:function(t,n){y(r,t,n),r.insertAdjacentHTML("afterend",u),y(s,t,n)},p:function(t,n,e,o,i){t.buttons&&u!==(u=o.text)&&(S(r,s),r.insertAdjacentHTML("afterend",u))},u:function(){S(r,s),b(r),b(s)},d:P}}function p(t,n,e,o,i){var r,s=e.text;return{c:function(){r=M(s)},m:function(t,n){y(r,t,n)},p:function(t,n,e,o,i){t.buttons&&s!==(s=o.text)&&(r.data=s)},u:function(){b(r)},d:P}}function _(t,n){for(var e,o,i,r=t.prompt&&l(t,n),s=t.buttons,u=[],c=0;c<s.length;c+=1)u[c]=f(t,s,s[c],c,n);return{c:function(){e=x("div"),r&&r.c(),o=M("\n    ");for(var t=0;t<u.length;t+=1)u[t].c();this.h()},h:function(){e.className=i="ui-pnotify-action-bar "+(t._notice.get("_styles").text?t._notice.get("_styles").text:""),C(e,"margin-top","5px"),C(e,"clear","both"),C(e,"text-align",t.align)},m:function(t,n){var i;y(e,t,n),r&&r.m(e,null),i=o,e.appendChild(i);for(var s=0;s<u.length;s+=1)u[s].m(e,null)},p:function(t,s){s.prompt?r?r.p(t,s):((r=l(s,n)).c(),r.m(e,o)):r&&(r.u(),r.d(),r=null);var c=s.buttons;if(t.buttons||t._notice){for(var a=0;a<c.length;a+=1)u[a]?u[a].p(t,s,c,c[a],a):(u[a]=f(s,c,c[a],a,n),u[a].c(),u[a].m(e,null));for(;a<u.length;a+=1)u[a].u(),u[a].d();u.length=c.length}t._notice&&i!==(i="ui-pnotify-action-bar "+(s._notice.get("_styles").text?s._notice.get("_styles").text:""))&&(e.className=i),t.align&&C(e,"text-align",s.align)},u:function(){b(e),r&&r.u();for(var t=0;t<u.length;t+=1)u[t].u()},d:function(){r&&r.d(),function(t){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d()}(u)}}}function h(t){return t.prompt_multi_line?u:c}function m(t,n,e,o){return e.trustText?a:p}function d(t){var n=this._svelte.component,e=this._svelte.buttons[this._svelte.button_index];n.handleClick(e,t)}function g(t){var n,e;e=t,(n=this)._observers={pre:w(),post:w()},n._handlers=w(),n._bind=e._bind,n.options=e,n.root=e.root||n,n.store=n.root.store||e.store,this.refs={},this._state=O(r({_notice:null,_options:{}},o.default.modules.Confirm.defaults),t.data);var i,s,u,c,l=function(){this.fire("init",{module:this})}.bind(this);t.root?this.root._oncreate.push(l):this._oncreate=[l],this._fragment=(i=this._state,s=this,c=(i.confirm||i.prompt)&&_(i,s),{c:function(){c&&c.c(),u=v()},m:function(t,n){c&&c.m(t,n),y(u,t,n)},p:function(t,n){n.confirm||n.prompt?c?c.p(t,n):((c=_(n,s)).c(),c.m(u.parentNode,u)):c&&(c.u(),c.d(),c=null)},u:function(){c&&c.u(),b(u)},d:function(){c&&c.d()}}),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),T(this._oncreate))}function v(){return document.createComment("")}function y(t,n,e){n.insertBefore(t,e)}function b(t){t.parentNode.removeChild(t)}function x(t){return document.createElement(t)}function k(t,n,e){t.addEventListener(n,e,!1)}function C(t,n,e){t.style.setProperty(n,e)}function N(t,n,e){t.removeEventListener(n,e,!1)}function S(t,n){for(;t.nextSibling&&t.nextSibling!==n;)t.parentNode.removeChild(t.nextSibling)}function P(){}function M(t){return document.createTextNode(t)}function O(t){for(var n,e,o=1,i=arguments.length;o<i;o++){e=arguments[o];for(n in e)t[n]=e[n]}return t}function T(t){for(;t&&t.length;)t.pop()()}function j(t){this.destroy=P,this.fire("destroy"),this.set=this.get=P,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function w(){return Object.create(null)}function K(t,n,e,o,i){for(var r in n)if(e[r]){var s=o[r],u=i[r],c=n[r];if(c)for(var l=0;l<c.length;l+=1){var f=c[l];f.__calling||(f.__calling=!0,f.call(t,s,u),f.__calling=!1)}}}O(g.prototype,{initModule:function(t){this.set(t)},afterOpen:function(){this.get("prompt")&&(this.get("prompt_multi_line")?this.refs.promptMulti.focus():this.refs.promptSingle.focus())},handleClick:function(t,n){t.click&&t.click(this.get("_notice"),this.get("prompt")?this.get("prompt_value"):null,n)},handleKeyPress:function(t){if(13==t.keyCode&&!t.shiftKey){t.preventDefault();for(var n=this.get("buttons"),e=0;e<n.length;e++)n[e].promptTrigger&&n[e].click&&n[e].click(this.get("_notice"),this.get("prompt")?this.get("prompt_value"):null,t)}}},{destroy:j,get:function(t){return t?this._state[t]:this._state},fire:function(t,n){var e=t in this._handlers&&this._handlers[t].slice();if(!e)return;for(var o=0;o<e.length;o+=1)e[o].call(this,n)},observe:function(t,n,e){var o=e&&e.defer?this._observers.post:this._observers.pre;(o[t]||(o[t]=[])).push(n),e&&!1===e.init||(n.__calling=!0,n.call(this,this._state[t]),n.__calling=!1);return{cancel:function(){var e=o[t].indexOf(n);~e&&o[t].splice(e,1)}}},on:function(t,n){if("teardown"===t)return this.on("destroy",n);var e=this._handlers[t]||(this._handlers[t]=[]);return e.push(n),{cancel:function(){var t=e.indexOf(n);~t&&e.splice(t,1)}}},set:function(t){if(this._set(O({},t)),this.root._lock)return;this.root._lock=!0,T(this.root._beforecreate),T(this.root._oncreate),T(this.root._aftercreate),this.root._lock=!1},teardown:j,_set:function(t){var n=this._state,e={},o=!1;for(var r in t)s=t[r],u=n[r],(s!==u||s&&"object"===(void 0===s?"undefined":i(s))||"function"==typeof s)&&(e[r]=o=!0);var s,u;if(!o)return;this._state=O({},n,t),this._recompute(e,this._state),this._bind&&this._bind(e,this._state);this._fragment&&(K(this,this._observers.pre,e,this._state,n),this._fragment.p(e,this._state),K(this,this._observers.post,e,this._state,n))},_mount:function(t,n){this._fragment.m(t,n)},_unmount:function(){this._fragment&&this._fragment.u()}}),g.prototype._recompute=P,(s=g).key="Confirm",s.defaults={confirm:!1,prompt:!1,prompt_class:"",prompt_value:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",trustText:!1,addClass:"",promptTrigger:!0,click:function(t,n){t.close(),t.fire("pnotify.confirm",{notice:t,value:n})}},{text:"Cancel",trustText:!1,addClass:"",click:function(t){t.close(),t.fire("pnotify.cancel",{notice:t})}}]},o.default.modules.Confirm=s,o.default.modulesAppendContainer.push(s),r(o.default.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),r(o.default.styling.bootstrap4,{btn:"btn btn-secondary ml-1",input:"form-control"}),t.default=g});
//# sourceMappingURL=PNotifyConfirm.js.map