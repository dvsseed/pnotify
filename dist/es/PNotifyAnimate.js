"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_PNotify=require("./PNotify.html"),_PNotify2=_interopRequireDefault(_PNotify);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function data(){return _extends({_notice:null,_options:{}},_PNotify2.default.modules.Animate.defaults)}var methods={initModule:function(e){this.set(e),this.setUpAnimations()},update:function(){this.setUpAnimations()},setUpAnimations:function(){var e=this.get("_notice"),t=this.get("_options");if(this.get("animate")){e.set({animation:"none"}),e._animateIn||(e._animateIn=e.animateIn),e._animateOut||(e._animateOut=e.animateOut),e.animateIn=this.animateIn.bind(this),e.animateOut=this.animateOut.bind(this);var n=400;"slow"===t.animate_speed?n=600:"fast"===t.animate_speed?n=200:t.animate_speed>0&&(n=t.animate_speed),n/=1e3,e.refs.elem.style.WebkitAnimationDuration=n+"s",e.refs.elem.style.MozAnimationDuration=n+"s",e.refs.elem.style.animationDuration=n+"s"}else e._animateIn&&e._animateOut&&(e.animateIn=e._animateIn,delete e._animateIn,e.animateOut=e._animateOut,delete e._animateOut)},animateIn:function(e){var t=this.get("_notice");this.get("_options");t.set({_animating:"in"});var n=function n(){t.refs.elem.removeEventListener("webkitAnimationEnd",n),t.refs.elem.removeEventListener("mozAnimationEnd",n),t.refs.elem.removeEventListener("MSAnimationEnd",n),t.refs.elem.removeEventListener("oanimationend",n),t.refs.elem.removeEventListener("animationend",n),t.set({_animatingClass:"ui-pnotify-in animated"}),e&&e.call(),t.set({_animating:!1})};t.refs.elem.addEventListener("webkitAnimationEnd",n),t.refs.elem.addEventListener("mozAnimationEnd",n),t.refs.elem.addEventListener("MSAnimationEnd",n),t.refs.elem.addEventListener("oanimationend",n),t.refs.elem.addEventListener("animationend",n),t.set({_animatingClass:"ui-pnotify-in animated "+this.get("in_class")})},animateOut:function(e){var t=this.get("_notice");this.get("_options");t.set({_animating:"out"});var n=function n(){t.refs.elem.removeEventListener("webkitAnimationEnd",n),t.refs.elem.removeEventListener("mozAnimationEnd",n),t.refs.elem.removeEventListener("MSAnimationEnd",n),t.refs.elem.removeEventListener("oanimationend",n),t.refs.elem.removeEventListener("animationend",n),t.set({_animatingClass:"animated"}),e&&e.call(),t.set({_animating:!1})};t.refs.elem.addEventListener("webkitAnimationEnd",n),t.refs.elem.addEventListener("mozAnimationEnd",n),t.refs.elem.addEventListener("MSAnimationEnd",n),t.refs.elem.addEventListener("oanimationend",n),t.refs.elem.addEventListener("animationend",n),t.set({_animatingClass:"ui-pnotify-in animated "+this.get("out_class")})}};function setup(e){e.key="Animate",e.defaults={animate:!1,in_class:"",out_class:""},e.init=function(t){return t.attention=function(e,n){var i=function i(){t.refs.container.removeEventListener("webkitAnimationEnd",i),t.refs.container.removeEventListener("mozAnimationEnd",i),t.refs.container.removeEventListener("MSAnimationEnd",i),t.refs.container.removeEventListener("oanimationend",i),t.refs.container.removeEventListener("animationend",i),t.refs.container.classList.remove(e),n&&n.call(t)};t.refs.container.addEventListener("webkitAnimationEnd",i),t.refs.container.addEventListener("mozAnimationEnd",i),t.refs.container.addEventListener("MSAnimationEnd",i),t.refs.container.addEventListener("oanimationend",i),t.refs.container.addEventListener("animationend",i),t.refs.container.classList.add("animated"),t.refs.container.classList.add(e)},new e({target:document.body})},_PNotify2.default.modules.Animate=e}function create_main_fragment(e,t){return{c:noop,m:noop,p:noop,u:noop,d:noop}}function PNotifyAnimate(e){init(this,e),this._state=assign(data(),e.data),this._fragment=create_main_fragment(this._state,this),e.target&&(this._fragment.c(),this._fragment.m(e.target,e.anchor||null))}function noop(){}function init(e,t){e._observers={pre:blankObject(),post:blankObject()},e._handlers=blankObject(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function assign(e){for(var t,n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(t in n)e[t]=n[t]}return e}function destroy(e){this.destroy=noop,this.fire("destroy"),this.set=this.get=noop,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function get(e){return e?this._state[e]:this._state}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,t)}function observe(e,t,n){var i=n&&n.defer?this._observers.post:this._observers.pre;return(i[e]||(i[e]=[])).push(t),n&&!1===n.init||(t.__calling=!0,t.call(this,this._state[e]),t.__calling=!1),{cancel:function(){var n=i[e].indexOf(t);~n&&i[e].splice(n,1)}}}function on(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(e){var t=this._state,n={},i=!1;for(var a in e)differs(e[a],t[a])&&(n[a]=i=!0);i&&(this._state=assign({},t,e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(dispatchObservers(this,this._observers.pre,n,this._state,t),this._fragment.p(n,this._state),dispatchObservers(this,this._observers.post,n,this._state,t)))}function _mount(e,t){this._fragment.m(e,t)}function _unmount(){this._fragment&&this._fragment.u()}function blankObject(){return Object.create(null)}function callAll(e){for(;e&&e.length;)e.pop()()}function differs(e,t){return e!==t||e&&"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e}function dispatchObservers(e,t,n,i,a){for(var s in t)if(n[s]){var o=i[s],r=a[s],m=t[s];if(m)for(var f=0;f<m.length;f+=1){var l=m[f];l.__calling||(l.__calling=!0,l.call(e,o,r),l.__calling=!1)}}}assign(PNotifyAnimate.prototype,methods,{destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_set:_set,_mount:_mount,_unmount:_unmount}),PNotifyAnimate.prototype._recompute=noop,setup(PNotifyAnimate),exports.default=PNotifyAnimate;
//# sourceMappingURL=PNotifyAnimate.js.map